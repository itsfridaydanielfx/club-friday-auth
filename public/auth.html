<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>DostÄ™p przez Discord</title>
  <link rel="stylesheet" href="/public/styles.css">
</head>
<body>

  <div class="box">
    <div class="top">
      <div class="badge">ğŸ”</div>
      <div class="discordLogo">Discord</div>
      <div class="t">
        <div class="title">DostÄ™p przez Discord</div>
        <div class="sub">@itsfridaydaniel Â· Club Friday Tools</div>
      </div>
    </div>

    <div class="lead" id="lead">
      Logowanie przez Discord sÅ‚uÅ¼y jedynie do sprawdzenia Twojej roli na serwerze Club Friday.
    </div>

    <div class="grid">
      <div class="card">ğŸ‘¤ Uprawnienie: <strong>identify</strong> (identyfikacja konta)</div>
      <div class="card">ğŸ›¡ï¸ Uprawnienie: <strong>guilds.members.read</strong> (odczyt rÃ³l na serwerze)</div>
      <div class="card muted">ğŸ’¥ Aplikacja moÅ¼e siÄ™ wysypaÄ‡, jeÅ›li strony ÅºrÃ³dÅ‚owe zmieniÄ… algorytmy dziaÅ‚ania.</div>
    </div>

    <div class="actions singleAction" style="margin-top:14px;">
      <a class="btn primary" id="btnGo" href="#">Kontynuuj do Discord</a>
    </div>

    <div class="smallrow">
      Nie jesteÅ› na serwerze?
      <a id="joinLink" href="#" target="_blank" rel="noreferrer">DoÅ‚Ä…cz tutaj!</a>
    </div>

    <div class="footer">@itsfridaydaniel Â· Club Friday Tools</div>
  </div>

  <script>
    (async () => {
      try {
        const cfg = await fetch("/config").then(r => r.json());
        document.getElementById("btnGo").href = cfg.oauthUrl;
        const join = document.getElementById("joinLink");
        join.href = cfg.joinServerUrl;
      } catch (e) {}

      setTimeout(() => {
        const a = document.getElementById("btnGo");
        if (a && a.href && a.href !== "#") window.location.href = a.href;
      }, 900);
    })();
  </script>
</body>
</html>
